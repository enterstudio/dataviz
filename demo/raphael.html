<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>L'Alpe d'Huez</title>
  <style rel="stylesheet">
    #Layer_1{
position: absolute;
bottom: 50px;
right: 195px;
    }
  </style>
 

</head>
<body id="raphaeljs">
  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="811.115px" height="314.641px" viewBox="0 0 811.115 314.641" enable-background="new 0 0 811.115 314.641"
	 xml:space="preserve">
<linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="405.4229" y1="0.5" x2="405.4229" y2="314.1411">
	<stop  offset="0" style="stop-color:#E6E7E8"/>
	<stop  offset="0.1691" style="stop-color:#DEDFE1"/>
	<stop  offset="0.4524" style="stop-color:#C9CACC"/>
	<stop  offset="0.8131" style="stop-color:#A6A8AB"/>
	<stop  offset="1" style="stop-color:#939598"/>
</linearGradient>
<path fill="url(#SVGID_1_)" stroke="#000000" stroke-miterlimit="10" d="M0.232,314.141h810.383V0.5h-13.576l-29.937,5.221
	l-31.678,10.095l-29.937,11.836L675.55,39.836l-30.285,11.835l-30.285,12.879l-32.374,11.487l-29.937,12.88l-31.329,9.747
	L491.404,110.5l-32.025,13.576l-30.285,10.792l-30.633,13.924l-29.937,11.488l-30.981,12.88l-30.633,10.442l-30.285,11.488
	l-29.936,11.835l-32.026,12.184l-29.937,10.443l-30.981,10.791l-30.633,12.88L91.783,268.19l-30.981,16.014l-30.633,14.271
	L0.232,314.141"/>
</svg>

 
        <script src="../_assets/js/vendor/jquery-1.9.1.min.js"></script>
        
        <script src="../_assets/js/vendor/raphael-min.js"></script>
        <script src="../_assets/js/main.js"></script>
 
<script type='text/javascript'>//<![CDATA[ 
$(function(){
/*

You can copy and paste the below into your codebase somewhere.
As long as Raphael is a global object, it'll just work.

USAGE (same default values for optional parameters as Raphaël's "animate" method)
=====
element.animateAlong({
	path: REQUIRED - Path data string or path element,
	rotate: OPTIONAL - Boolean whether to rotate element with the direction it is moving
	                   (this is a beta feature - currently kills existing transformations
	                    and rotation may not be perfect),
	duration: OPTIONAL - Number in milliseconds,
	easing: OPTIONAL - String (see Raphaël's docs),
	debug: OPTIONAL - Boolean, when set to true, paints the animating path, which is
					  helpful if it isn't already rendered to the screen
},
props - Object literal containing other properties to animate,
callback - Function where the "this" object refers to the element itself
);

EXAMPLE
======
var rect = paper.rect(0,0,50,50);
rect.animateAlong({
	path: "M71.5,675.5l43-22.5l44-20.5l44.5-23l45-21.5l44-18.5l44.5-15.5l43-15
	l46-17.5l43-17L512,488l44-15l44.5-18.5l43-16.5l44-20l43.5-15.5l46-19.5l43-17l45-14l43-18.5l46.5-16.5l43.5-18.5l43.5-17l43-17.5
	l43-17l45.5-14.5l43-7.5h19.5",
	rotate: true,
	duration: 5000,
	easing: 'ease-out',
	debug: true
},
{
	transform: 's0.25',
	opacity: 0
},
function() {
	alert("Our opacity is now:" + this.attr('opacity'));
});

*/

Raphael.el.animateAlong = function(params, props, callback) {
	var element = this,
		paper = element.paper,
		path = params.path,
		rotate = params.rotate,
		duration = params.duration,
		easing = params.easing,
		debug = params.debug,
		isElem = typeof path !== 'string';
	
	element.path = 
		isElem
			? path
			: paper.path(path);
	element.pathLen = element.path.getTotalLength();
	element.rotateWith = rotate;
	
	element.path.attr({
		stroke: debug ? 'red' : isElem ? path.attr('stroke') : 'rgba(0,0,0,0)',
		'stroke-width': debug ? 2 : isElem ? path.attr('stroke-width') : 0
	});

	paper.customAttributes.along = function(v) {
		var point = this.path.getPointAtLength(v * this.pathLen),
			attrs = {
				x: point.x,
				y: point.y 
			};
		this.rotateWith && (attrs.transform = 'r'+point.alpha);
		// TODO: rotate along a path while also not messing
		//       up existing transformations
		
		return attrs;
	};

	if(props instanceof Function) {
		callback = props;
		props = null;
	}
	if(!props) {
		props = {
			along: 1
		};
	} else {
		props.along = 1;	
	}
	
	var startAlong = element.attr('along') || 0;
	
	element.attr({along: startAlong}).animate(props, duration, easing, function() {
		!isElem && element.path.remove();
		
		callback && callback.call(element);
	});
};

var paper = Raphael(0, 0, 900, 500);

function climb( name, time, hex, endpos){
  var rider = paper.text(10, 10, name)
                 .attr("fill", hex)
                 .attr("font-size", "14px");
    rider.animateAlong({
	    path: "M71.5,538.641l29.937-15.665l30.633-14.271l30.981-16.014 l31.329-14.968l30.633-12.88l30.981-10.791l29.937-10.443l32.026-12.184l29.936-11.835l30.285-11.488l30.633-10.442l30.981-12.88 l29.937-11.488l30.633-13.924l30.285-10.792L562.672,335l29.937-11.835l31.329-9.747l29.937-12.88l32.374-11.487l30.285-12.879 	l30.285-11.835l29.938-12.184l29.937-11.836l31.678-10.095L868.307,225h13.576",
      rotate: false,
      duration: time,
      easing: 'ease-out',
      debug: false
   },function(){ rider.animate({x:endpos.x,y:endpos.y}, 1000)});
}
climb("Pantani 1997 37.35", 3735, "#06c", {x:100,y:30});
climb("Lance 2004 37.36", 3736, "#cc0", {x:100,y:60});
climb("Sastre 2008 39.31", 3931, "#c00", {x:100,y:90}); 
climb("Sanchez 2011 41.21", 4121, "#c00", {x:100,y:120});
climb("Coppi 1952 45.22", 4522, "#06c", {x:100,y:150});
climb("The Badger 1986 48.00", 4800, "#000", {x:100,y:180});
});  

</script>
  
</body>


</html>