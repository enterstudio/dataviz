<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Data Visualization in the Browser</title>

    <meta name="description" content="A presentation on browser based data visualization">
    <meta name="author" content="Rob Larsen">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/robreact.css" id="theme">
    
    <link rel="stylesheet" href="css/dataviz.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">

        <section>
          <h1>Data Visualization in the Browser</h1>
          <h2>Rob Larsen</h2>
          <h2>2014.2.13</h2>
          <small><a href="https://github.com/roblarsen/dataviz">Download</a> (https://github.com/roblarsen/dataviz)</small>
          <p><img src="img/logo.png" height="150" width="150"></p>
        </section>
        <section>
          <h1>What's in this Presentation</h1>
          <ul class="nowrap">
            <li>Me</li>
            <li>Intro to SVG &amp; Canvas </li>   
            <li>Live examples and code </li>
          </ul>
        </section>
        <section>
          <section>
            <h1>Me</h1>
            <img src="img/me.jpg" alt="Rob Larsen" width="395" height="395">
          </section>
          <section>  
            <h1>Me</h1>
            <ul>
              <li>I've been making web sites since 1997</li>
              <li>All HTML, CSS &amp; JavaScript All the Time</li>
              <li>I'm <a ref="https://github.com/roblarsen">roblarsen</a> on Github</li>
              <li>I'm <a href="https://twitter.com/roblarsenwww">@roblarsenwww</a> (web stuff) and <a href="https://twitter.com/robreact">@robreact</a> (everything else) on Twitter</li>
              <li>I have a blog @ <a href="http://HTMLCSSJavaScript.com">htmlcssjavascript.com</a></li>
              <li>I write books.</li>
            </ul>
   <a href="http://www.amazon.com/gp/product/1118340183/ref=as_li_ss_tl?ie=UTF8&camp=1789&creative=390957&creativeASIN=1118340183&linkCode=as2&tag=drunkenfistcom"><img src="img/beginning-html-and-css.jpg" alt="an image of Rob Larsen's Beginning HTML and CSS" width="178" height="225" /></a> <img src="img/coming-soon.png" alt="an image of Rob Larsen's Beginning HTML and CSS" width="200" height="242" />
                      
          </section>
          <section>
            <h1>Art</h1>
            <img src="img/wall-at-central-square.jpg" width="700" height="294">
            <p><a href="http://www.drunkenfist.com">DrunkenFist.com</a> and <a href="http://javaplusplusplus.com">Java+++</a></p>
          </section>
        </section>
        <section>
          <h1>Data Visualization?</h1>
          <a href="http://www.flickr.com/photos/andreasmb/3100291750/" title="Visualization Examples  by Andreas_MB, on Flickr"><img src="img/3100291750_8623c332f9.jpg" width="500" height="333" alt="Visualization Examples "></a>  
          <small><em>Rhymes with crufty.</em> <a href="http://www.flickr.com/photos/andreasmb/3100291750/">Photo from Andreas_MB on Flickr</a></small>
           <aside class="notes">
            Anyone been to one of the Eddward Tufte talks? 
          </aside>
        </section>
        <section>
          <h1>Basically</h1>
        </section>
        <section>
          <h1>Taking this</h1>
          <pre><code>{"username": "rob_react", "weeks": {"1152446400": {"Pink": 2, "The Decemberists": 3, "Jerry Jeff Walker": 7, "The Clash": 2, "Jim Carroll Band": 2, "Big Audio Dynamite II": 1, "The Beatles": 12, "Cheap Trick": 1, "Rod Stewart": 3, "Ninja Tunes": 1, "Nas": 1, "Boogie Down Productions": 1, "Everclear": 8, "DANGERDOOM": 2, "Paul Simon": 1, "Macy Gray": 1, "Jem": 1, "Terror Danjah Ft. Riko, Bruza, D Double E And Hyper": 1, "Kelly Willis": 1, "Herman's Hermits": 1, "Tool": 1, "Sound Tracks": 1, "The Cure": 1, "Belle and Sebastian": 9, "Tom Waits": 2, "Nick Drake": 1, "Jammer Ft. Wiley, D Double E, Kano and Goodz": 2, "Oasis": 4, "Acid House Kings": 2, "Ralph Stanley &amp; Friends": 1, "Joe Jackson": 1, "The Libertines": 7, "Wilco": 1, "Sublime": 5, "The Cardigans": 1, "Bill Hicks": 3, "Harry Nilsson": 1, "Operation Ivy": 1, "Bob Dylan": 11, "Joni Mitchell": 1, "Led Zeppelin": 1, "50 Cent": 1, "Black Crowes &amp; Wilco": 1, "Kano": 1, "Mason Jennings": 7, "Dave Matthews Band": 1, "The White Stripes": 1, "Michael Penn": 4, "Ralph Stanley": 1, "Kirsty MacColl / The Pogues": 1, "Billy Bragg &amp; Wilco": 2, "Misfits": 3, "The Pretenders": 2, "The Pogues": 12, "Sangue Misto": 1, "Rufus": 1, "The Beach Boys": 2, "Marvin Gaye": 2, "The Strokes": 3, "The Streets": 5, "The Stanley Brothers": 5, "Franz Ferdinand": 1, "Dave Matthews": 1, "My Morning Jacket": 1</code></pre>
        </section>
        <section>
          <h1>And turning it into this</h1>
          <div class="big-image" id="last-fm-svg"><div><img src="img/graph_236833.svg" width="1260" height="510"></div></div>
          <small>Au Revoir <a href="http://lastgraph3.aeracode.org/">http://lastgraph3.aeracode.org/</a>, you were awesome.</small>
        </section>
        <section>
          <h1>Core Visualization Technologies</h1>

        </section>
        <section>
          <section>
            <h1>Scalable Vector Graphics (SVG)</h1>
            <img src="img/svg-logo-h.svg" width="490" height="164">
          </section>
          <section>
            <h1>What is SVG?</h1>
            <p>SVG is vector graphics mixed up with XML.</p>
            <small>Much like peanut butter and chocolate.</small>
            <p>When created in the context of an HTML document SVG elements are fancy DOM elements-- properties are stored as part of the DOM and access to individual elements and properties is available using the DOM.</p>
            <p>It can also be styled with CSS.</p>
          </section>
          <section>
            <h1>I Think SVG is Great</h1>
            <p>In addition to being coded by hand or generated by software, SVG can also be output from a vector based drawing program. You can then use that .svg file as the <code>src</code> of an <code>&lt;img&gt;</code> element or as the background of an element as defined by CSS. Plus, it's still just a text format you can hand edit or pull into your document with XHR and still tweak with JavaScript. </p>
          </section>
          <section>
            <h1>Vector means: it scales!</h1>
            <img src="img/HTML5-logo.svg" width="5%">
            <img src="img/HTML5-logo.svg" width="10%">
            <img src="img/HTML5-logo.svg" width="15%">
            <img src="img/HTML5-logo.svg" width="20%">
            <img src="img/HTML5-logo.svg" width="25%">
            <img src="img/HTML5-logo.svg" width="100%">
          </section>
          <section>
            <p><small class="fragment fade-in">I just solved the responsive images conundrum.</small></p>
          <iframe src="http://www.flickr.com/photos/51581540@N00/7554509718/in/photolist-cvyQxy-i53iKi-bwv6bZ-by4SV6-c6nbUm-bxFqqB-bwv6Ra-bwv6yM-bwv6s8-bwv6Fg-bxEm72-bjKt5U-bxEkCR-bxhski-aEu4Y7-8gkfG4-jhqQqJ-jhqwTt-aFztse-amXWdu-bkiYwN-91z987-8u7ndB-9RvQMt-b5kv9v-cPtBgm-bxEkH6-bjKsG3-7DH753-cPtC3L-cPtCrE-bwuFMa-cPtBG3-bt8N9k-bt8MYc-bt8Ge8-am8oR8-9MYW37-bydSAt-a6XigU-bkiYp9-dRUGib-cbjgFu-cbj1qA-8wU4Rh-cbiGLU-cbiFqU-bkiYtY-7QNmAA-d9EGH4-bXPb6s/player/" width="500" height="333" frameborder="0" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen  class="fragment fade-in"></iframe>
          </section>  
          <section>
            <h1>Here's an SVG element</h1>
            <svg width="200" height="200"
              viewPort="0 0 200 200" version="1.1"
              xmlns="http://www.w3.org/2000/svg">
              <circle cx="100" cy="100" r="75" fill="#fe57a1"/>
            </svg>

          </section>
          <section>
            <h1>Viewing Source</h1>
            <pre><code>
&lt;svg width=&quot;200&quot; height=&quot;200&quot;
    viewPort=&quot;0 0 200 200&quot; version=&quot;1.1&quot;<br>
    xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;<br>
    &lt;circle cx=&quot;100&quot; cy=&quot;100&quot; r=&quot;75&quot; fill=&quot;#fe57a1&quot;/&gt;<br>          
&lt;/svg&gt;
            </pre></code>
          </section>
          <section>
            <h1>SVG can also look like this</h1>
            <img src="img/circle.svg">
          </section>
          <section>
            <h1>Viewing Source</h1>
            <pre><code>
&lt;img src="img/circle.svg"&gt;
            </pre></code>
            <aside class="notes">
              Everyone knows how that works.  
            </aside>
          </section>
          <section>
            <h1>General SVG Support</h1>
            <div class="support svg"></div>
            <small>data from caniuse.com</small>
          </section>
        </section>
        <section>
          <section>
            <h1>Canvas</h1>
          </section>
          <section>
            <h1>What's Canvas?</h1>
            <p>The canvas element provides a scriptable interface for drawing two-dimensional images in the browser.</p>
            <p>One of the early stars of the HTML5 era.</p> 
          </section>
          <section>
            <h1>Here's a Canvas Element</h1>
            <canvas id="circle" width="800" height="300"></canvas>
          </section>
          <section>
            <h1>Viewing Source</h1>
            <pre><code>
&lt;canvas id=&quot;circle&quot; width=&quot;800&quot; height=&quot;300&quot;&gt;&lt;/canvas&gt;
            </code></pre>
            <pre><code>
   var ctx = document.getElementById( "circle" ).getContext( "2d" );
   ctx.beginPath();
   ctx.arc( 400, 150, 75, 0, Math.PI*2, true ); 
   ctx.fillStyle = "#fe57a1";
   ctx.closePath();
   ctx.fill();
            </code></pre>
          </section>
          <section>
            <h1>It's a low level API</h1>
            <h2>Everyone knows <code>arc</code> is all you need to draw a circle when you have <code>Math.PI*2</code>, right?</h2>
            <pre><code>
            ctx.arc( 400, 150, 75, 0, Math.PI*2, true );
            </code></pre>
            <small>The arguments are "center x", "center y", "radius", "start angle, in radians", "end angle, in radians" and "clockwise, as a Boolean"</small>
          </section>
          <section>
            <h1>General Canvas Support</h1>
            <div class="support canvas"></div>
            <small>data from caniuse.com</small>
          </section> 
        </section>
        <section>
          <section>
            <h1>Comparing Canvas &amp; SVG</h1>
          </section>
          <section>
            <h1>At a High Level</h1>
            <ul>
              <li>Go SVG when dealing with a limited number of elements, lower animation requirements and higher interactivity needs.</li>
              <li>Canvas is better for applications that require intense animation, real-time interaction and/or <strong>many</strong> more elements.</li>
            </ul>
          </section>
          <section>
          <h1>Your Mileage May Vary</h1>
            <p>This issue could be a whole presentation all by itself. It's a nuanced topic. To help, here are a couple of articles which cover this question in greater depth:</p>
            <ul>
              <li><a href="http://msdn.microsoft.com/en-us/library/ie/gg193983(v=vs.85).aspx">How To Choose Between SVG and Canvas</a></li>
              <li><a href="http://html5center.sourceforge.net/How-to-Choose-Between-Canvas-and-SVG-for-your-Site">How to Choose Between Canvas and SVG for your Site</a></li>
            </ul>
          </section>
          <section>
          <h1>Use what works</h1>
            <p>Canvas, SVG, HTML elements + CSS animations, Google Maps, etc. It's all good as long as you're telling a story.</p>
          </section>
          
        </section>
        <section>
          <h1>In Practice</h1>
          <p>What follows is a cross section of the tools and approaches I've used over the past few years.</p>
        </section>
        <section>
          <section>
            <h1>AngularJS and SVG</h1>
            <p>Working with Angular and SVG is a natural fit. Angular allows you to bind data to DOM elements. SVG elements are DOM elements. </p>
            <p class="fragment fade-in">Magic.</p>
            <p class="fragment fade-in">Also, I think Angular is great, so why the heck not?</p>
          </section>
          <section>
            <h1>AngularJS and SVG</h1>
            <p>This demo also shows that SVG doesn't need to be wholly generated. This is basically an SVG template output from Adobe Illustrator with some data plugged in and managed with Angular.</p>
          </section>    
          <section id="angular">
            <iframe width="100%" height="660" scrolling="no"></iframe>
            <small>Comic Book Sales Over $100,000 from 1993 - 2013. <a href="http://htmlcssjavascript.com/javascript/i-made-a-scatter-plot-data-visualization-with-angularjs-and-svg-heres-how-i-did-it/">More details on this visualization on my blog.</a></small>
          </section>
          <section>
          <h1>View Source: The HTML/SVG</h1>
<pre><code>
&lt;div data-ng-app=&quot;comicsApp&quot;&gt;
&lt;div data-ng-controller=&quot;chartCtrl&quot;&gt;
  &lt;svg version=&quot;1.1&quot; id=&quot;Layer_1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot; width=&quot;100%&quot; viewBox=&quot;0 0 980 600&quot; enable-background=&quot;new 0 0 980 600&quot; xml:space=&quot;preserve&quot;&gt;
    &lt;filter id=&quot;drop-shadow&quot;&gt;
      &lt;feGaussianBlur in=&quot;SourceAlpha&quot; stdDeviation=&quot;2&quot; result=&quot;blur&quot;/&gt;
      &lt;feOffset in=&quot;blur&quot; dx=&quot;4&quot; dy=&quot;4&quot; result=&quot;offsetBlur&quot;/&gt;
      &lt;feMerge&gt;
        &lt;feMergeNode in=&quot;offsetBlur&quot;/&gt;
        &lt;feMergeNode in=&quot;SourceGraphic&quot;/&gt;
      &lt;/feMerge&gt;
    &lt;/filter&gt;
    &lt;g id=&quot;lines&quot;&gt;
        &lt;line fill=&quot;none&quot; stroke=&quot;#000000&quot; stroke-miterlimit=&quot;10&quot; x1=&quot;90.828&quot; y1=&quot;-8&quot; x2=&quot;90.828&quot; y2=&quot;579.297&quot;/&gt;
        &lt;line fill=&quot;none&quot; stroke=&quot;#B5B5B6&quot; stroke-miterlimit=&quot;10&quot; x1=&quot;0&quot; y1=&quot;579.297&quot; x2=&quot;981.996&quot; y2=&quot;579.297&quot;/&gt;
        &lt;-- MANY LINES SNIPPED --&gt;
    &lt;/g&gt;
    &lt;g id=&quot;text&quot;&gt;
      &lt;text x=&quot;10&quot; y=&quot;16&quot;&gt;price in USD&lt;/text&gt;
      &lt;text x=&quot;71&quot; y=&quot;574&quot;&gt;$0&lt;/text&gt;
      &lt;text x=&quot;480&quot; y=&quot;595&quot;&gt;2003&lt;/text&gt;
      &lt;text x=&quot;78&quot; y=&quot;595&quot;&gt;1993&lt;/text&gt;
      &lt;text x=&quot;881&quot; y=&quot;595&quot;&gt;2013&lt;/text&gt;
      &lt;text x=&quot;25&quot; y=&quot;553&quot;&gt;$100,000&lt;/text&gt;
      &lt;text x=&quot;25&quot; y=&quot;468&quot;&gt;$500,000&lt;/text&gt;
      &lt;text x=&quot;16&quot; y=&quot;363&quot;&gt;$1,000,000&lt;/text&gt;
      &lt;text x=&quot;16&quot; y=&quot;256&quot;&gt;$1,500,000&lt;/text&gt;
      &lt;text x=&quot;16&quot; y=&quot;151&quot;&gt;$2,000,000&lt;/text&gt;
      &lt;text x=&quot;16&quot; y=&quot;45&quot; &gt;$2,500,000&lt;/text&gt;
    &lt;/g&gt;
    &lt;g id=&quot;dynamic&quot;&gt;
      &lt;circle  data-ng-repeat=&quot;it in items | filter : venues&quot; 
        opacity=&quot;0.8&quot; data-ng-attr-fill=&quot;{{colorPicker(it.venue)}}&quot; 
        data-ng-attr-cx=&quot;{{it.date | xDate}}&quot; 
        data-ng-mouseover=&quot;updateTooltip(it)&quot; 
        data-ng-mouseout=&quot;updateTooltip(0)&quot;  
        data-ng-attr-cy=&quot;{{it.price | yPrice}}&quot; 
        r=&quot;7&quot; /&gt;
      &lt;rect data-ng-show=&quot;tooltip.price&quot; 
        data-ng-model=&quot;tooltip&quot; 
        transform=&quot;translate(-55,-100)&quot; 
        data-ng-attr-x=&quot;{{tooltip.date | xDate}}&quot; 
        data-ng-attr-y=&quot;{{tooltip.price | yPrice}}&quot; 
        width=&quot;150&quot; height=&quot;80&quot; fill=&quot;white&quot; 
        stroke=&quot;&quot;  style=&quot;filter:url(#drop-shadow)&quot; /&gt;
      &lt;text data-ng-show=&quot;tooltip.price&quot; 
        data-ng-model=&quot;tooltip&quot; 
        transform=&quot;translate(-45,-90)&quot; 
        data-ng-attr-x=&quot;{{tooltip.date | xDate}}&quot; 
        data-ng-attr-y=&quot;{{tooltip.price | yPrice}}&quot; &gt;{{tooltip.title}} {{tooltip.issue}}&lt;/text&gt;
      &lt;text data-ng-show=&quot;tooltip.price&quot; 
        data-ng-model=&quot;tooltip&quot; 
        transform=&quot;translate(-45,-75)&quot; 
        data-ng-attr-x=&quot;{{tooltip.date | xDate}}&quot; 
        data-ng-attr-y=&quot;{{tooltip.price | yPrice}}&quot; &gt;{{tooltip.pedigree}}{{tooltip.collection}}{{tooltip.provenance}} {{tooltip.grade_src | srcFilter}} {{tooltip.grade}}&lt;/text&gt;
      &lt;text data-ng-show=&quot;tooltip.price&quot; 
        data-ng-model=&quot;tooltip&quot; 
        transform=&quot;translate(-45,-60)&quot; 
        data-ng-attr-x=&quot;{{tooltip.date | xDate}}&quot; 
        data-ng-attr-y=&quot;{{tooltip.price | yPrice}}&quot; &gt;{{tooltip.price|currency}}&lt;/text&gt;
      &lt;text data-ng-show=&quot;tooltip.price&quot; 
        data-ng-model=&quot;tooltip&quot; 
        transform=&quot;translate(-45,-45)&quot; 
        data-ng-attr-x=&quot;{{tooltip.date | xDate}}&quot; 
        data-ng-attr-y=&quot;{{tooltip.price | yPrice}}&quot; &gt;{{tooltip.date}}&lt;/text&gt;
      &lt;text data-ng-show=&quot;tooltip.price&quot; 
        data-ng-model=&quot;tooltip&quot; 
        transform=&quot;translate(-45,-30)&quot; 
        data-ng-attr-x=&quot;{{tooltip.date | xDate}}&quot; 
        data-ng-attr-y=&quot;{{tooltip.price | yPrice}}&quot; &gt;{{tooltip.venue}}&lt;/text&gt;
    &lt;/g&gt;
    &lt;g id=&quot;legend&quot;&gt;
      &lt;rect x=&quot;125&quot; y=&quot;5&quot; 
        width=&quot;15&quot; height=&quot;15&quot; fill=&quot;#D95B43&quot; 
        data-ng-mouseover=&quot;venues='comic connect'&quot; 
        data-ng-mouseout=&quot;venues=''&quot;&gt;&lt;/rect&gt;
      &lt;text x=&quot;145&quot; y=&quot;15&quot; 
        class=&quot;legend&quot;&gt;Comic Connect&lt;/text&gt;
      &lt;rect x=&quot;245&quot; y=&quot;5&quot; width=&quot;15&quot; 
        height=&quot;15&quot; fill=&quot;#ECD078&quot; 
        data-ng-mouseover=&quot;venues='heritage'&quot; 
        data-ng-mouseout=&quot;venues=''&quot;&gt;&lt;/rect&gt;
      &lt;text x=&quot;265&quot; y=&quot;15&quot; 
        class=&quot;legend&quot;&gt;Heritage&lt;/text&gt;
      &lt;rect x=&quot;325&quot; y=&quot;5&quot; width=&quot;15&quot; 
        height=&quot;15&quot; fill=&quot;#C02942&quot; 
        data-ng-mouseover=&quot;venues='comiclink'&quot; 
        data-ng-mouseout=&quot;venues=''&quot;&gt;&lt;/rect&gt;
      &lt;text x=&quot;345&quot; y=&quot;15&quot; 
        class=&quot;legend&quot;&gt;ComicLink&lt;/text&gt;
      &lt;rect x=&quot;405&quot; y=&quot;5&quot; width=&quot;15&quot; 
        height=&quot;15&quot; fill=&quot;#542437&quot; 
        data-ng-mouseover=&quot;venues='pedigree'&quot; 
        data-ng-mouseout=&quot;venues=''&quot;&gt;&lt;/rect&gt;
      &lt;text x=&quot;425&quot; y=&quot;15&quot; 
        class=&quot;legend&quot;&gt;Pedigree&lt;/text&gt;
      &lt;rect x=&quot;485&quot; y=&quot;5&quot; width=&quot;15&quot; 
        height=&quot;15&quot; fill=&quot;#53777A&quot; 
        data-ng-mouseover=&quot;venues='metropolis'&quot; 
        data-ng-mouseout=&quot;venues=''&quot;&gt;&lt;/rect&gt;
      &lt;text x=&quot;505&quot; y=&quot;15&quot; 
        class=&quot;legend&quot;&gt;Metropolis&lt;/text&gt;
      &lt;rect x=&quot;565&quot; y=&quot;5&quot; width=&quot;15&quot; 
        height=&quot;15&quot; fill=&quot;#69D2E7&quot; 
        data-ng-mouseover=&quot;venues='jp'&quot; 
        data-ng-mouseout=&quot;venues=''&quot;&gt;&lt;/rect&gt;
      &lt;text x=&quot;585&quot; y=&quot;15&quot; 
        class=&quot;legend&quot;&gt;JP/Mint&lt;/text&gt;
      &lt;rect x=&quot;645&quot; y=&quot;5&quot; width=&quot;15&quot; 
        height=&quot;15&quot; fill=&quot;#FA6900&quot; 
        data-ng-mouseover=&quot;venues='mastronet'&quot; 
        data-ng-mouseout=&quot;venues=''&quot;&gt;&lt;/rect&gt;
      &lt;text x=&quot;665&quot; y=&quot;15&quot; 
        class=&quot;legend&quot;&gt;Mastronet&lt;/text&gt;
      &lt;rect x=&quot;725&quot; y=&quot;5&quot; width=&quot;15&quot; 
        height=&quot;15&quot; fill=&quot;#FE4365&quot; 
        data-ng-mouseover=&quot;venues='pgc'&quot; 
        data-ng-mouseout=&quot;venues=''&quot;&gt;&lt;/rect&gt;
      &lt;text x=&quot;745&quot; y=&quot;15&quot; 
        class=&quot;legend&quot;&gt;PGCMint&lt;/text&gt;
      &lt;rect x=&quot;805&quot; y=&quot;5&quot; width=&quot;15&quot; 
        height=&quot;15&quot; fill=&quot;#666666&quot; 
        data-ng-mouseover=&quot;venues='unknown'&quot; 
        data-ng-mouseout=&quot;venues=''&quot;&gt;&lt;/rect&gt;
      &lt;text x=&quot;825&quot; y=&quot;15&quot; 
        class=&quot;legend&quot;&gt;Other/Unkown&lt;/text&gt;
    &lt;/g&gt;
  &lt;/svg&gt; 
&lt;/div&gt;
&lt;/div&gt;
          </pre></code>  
          </section>
          <section>
          <h1>View Source</h1>
          <pre><code>
angular.module('comicsApp.controllers', ['comicFilters','comicsFactories']).
  .controller('chartCtrl', ["$scope",'dataService',
    function( $scope, dataService )  {
    //ACTUALLY JUST A PLAIN OLD JAVASCRIPT OBJECT.
    //I'M JUST SHARING THE XHR CODE AND DATA MANIPULATION
    $scope.items = dataService;
    $scope.tooltip = {
      price:0
    }
    $scope.updateTooltip = function(it) {
      $scope.tooltip = {
        price : it.price || 0,
        venue : it.venue,
        date : it.date,
        title : it.title,
        issue : it.issue,
        pedigree : it.pedigree,
        collection : it.collection,
        provenance : it.provenance,
        grade_src : it.grade_src,
        grade : it.grade
      } 
    }
    $scope.colorPicker= function( venue ){
      switch (venue) {
        case "Heritage":
          return $scope.colors[0];
        case  "Comic Connect":
          return $scope.colors[1];
        case "Comiclink":
          return $scope.colors[2];
        case  "Pedigree":
          return $scope.colors[3];
        case "Metropolis":
          return $scope.colors[4];
        case  "JP The Mint":
          return $scope.colors[5];
        case "Mastronet":
          return $scope.colors[6];
        case  "PGCMint":
          return $scope.colors[7];
        default:
          return $scope.colors[8];
       }
    }
    $scope.colors = ["#ECD078","#D95B43","#C02942","#542437",
    "#53777A","#69D2E7","#FA6900", "#FE4365","#666666"];
  }
  
]);
          </pre></code>  
          </section>
          <section>
          <h1>View Source</h1>
          <pre><code>
angular.module('comicFilters', []).filter('xDate', function () {
  "use strict";
  return function (input) {
    if (input !== undefined) {
      var date = input.split("-");
      var years = date[0] - 1993;
      var months = (years * 12) + parseInt(date[1]);
      return 90 + months * 3.3333;
      
    }
  };
}).filter('yPrice', function () {
  "use strict";
  return function (input) {
    if (input){
      return 579 - (input/4699.248120300752);
    }
  };
});
          </code></pre>  
          </section>
          <section>
          <h1>View Source</h1>
          <pre><code>
angular.module('comicsFactories', [])
  .factory('dataService', function ($http) {
    var records = [];
     $http({"method" : "GET", "url" : "data/books.json"}).success(
      function(data){
        for (var i = 0, len = data.books.length; i &lt; len; i++){
          if (data.books[i].sales.length){
            for (var j = 0, l = data.books[i].sales.length; j &lt; l; j++){
              if (parseFloat(data.books[i].sales[j].price) >= 100000){
                records.push({
                  "title":data.books[i].title,
                  "issue": data.books[i].issue, 
                  "pedigree": data.books[i].pedigree,
                  "collection": data.books[i].collection,
                  "provenance": data.books[i].provenance,
                  "grade": data.books[i].grade,
                  "grade_src":data.books[i].grade_src,
                  "uid": Math.floor(data.books[i].uid),
                  "date":data.books[i].sales[j].sale_date,
                  "venue":data.books[i].sales[j].venue,
                  "price": Math.floor(data.books[i].sales[j].price),
                  "link":data.books[i].sales[j].link
                })
              }
            }
          }
        }
    });
    return records;
  });
          </pre></code>  
          </section>

        </section>
        <section>
          <section>
            <h1>SVG with D3js</h1>
            <blockquote cite="http://d3js.org/">D3.js is a JavaScript library for manipulating documents based on data. D3 helps you bring data to life using HTML, SVG and CSS. D3’s emphasis on web standards gives you the full capabilities of modern browsers without tying yourself to a proprietary framework, combining powerful visualization components and a data-driven approach to DOM manipulation.</blockquote>
         </section>
         <section id="d3">
<iframe width="100%" height="600" scrolling="no"></iframe>
<small>Trip connections between the top 10 Hubway departure stations. Data from the <a href="http://hubwaydatachallenge.org/">Hubway Data Visualization Challenge</a></small>
        </section>
        <section>
          <h1>View Source</h1>
          <pre><code>
//What is the Matrix?            
[/* ss   td   bpl   boy  back  cc    ken   bea   lw    newb */  
  [2689, 508, 1170, 189, 1007, 187,  745,  248,  263,  2311], //ss
  [1064, 121, 830,  323, 2473, 393,  453,  312,  533,  599],  //td
  [506,  296, 813,  530, 988,  540,  1936, 578,  747,  268],  //bpl
  [706,  311, 1568, 526, 1273, 371,  618,  694,  481,  227],  //boy
  [178,  701, 277,  176, 663,  227,  379,  284,  330,  111],  //back
  [550,  270, 548,  445, 196,  769,  868,  317,  1477, 195],  //cc
  [344,  141, 468,  955, 172,  346,  502,  388,  415,  97],   //ken
  [333,  207, 455,  545, 196,  1322, 618,  254,  659,  62],   //bea
  [655,  120, 301,  90,  2368, 108,  226,  99,   229,  875],  //lw
  [270,  221, 625,  436, 239,  278,  548,  1158, 320,  90]    //newb
]
          </pre></code>
        </section>
        <section>
          <h1>View Source</h1>
<pre><code>
//from bl.ocks.org/mbostock/4062006 etc. 

/*
* Create a chord layout
* Pass in our matrix
*/
var chord = d3.layout.chord()
    .padding( .05 )
    .sortSubgroups( d3.descending )
    .matrix( matrix );
var width = 900,
    height = 500,
    innerRadius = Math.min( width, height ) * .35,
    outerRadius = innerRadius * 1.1;

/*
* https://github.com/mbostock/d3/wiki/Ordinal-Scales
*/
var fill = d3.scale.ordinal()
             .domain( d3.range(4) )
             .range(["#336699", "#99ccff", "#6699cc", "#0066cc"]);

var svg = d3.select( "body" )
            .append( "svg" )
            .attr( "width", width )
            .attr( "height", height )
            .append( "g" )
            .attr( "transform", "translate(" + width / 2 + "," + height / 2 + ")");

svg.append( "g" )
   .selectAll( "path" )
   .data( chord.groups )
   .enter()
   .append( "path" )
   .style( "fill", function(d) { return fill(d.index); })
   .style( "stroke", function(d) { return fill(d.index); })
   .attr( "d", d3.svg
                 .arc()
                 .innerRadius( innerRadius )
                 .outerRadius( outerRadius ))
   .on( "mouseover" , fade(.1) )
   .on( "mouseout" , fade(1) );
 
var ticks = svg.append( "g" )
               .selectAll( "g" )
               .data( chord.groups )
               .enter().append( "g" )
               .selectAll( "g" )
               .data( groupTicks )
               .enter()
               .append( "g" )
               .attr( "transform", function( d ) {
                 return "rotate(" + (d.angle * 180 / Math.PI - 90) + ")"
                    + "translate(" + outerRadius + ",0)";
                });

ticks.append( "line" )
     .attr( "x1", 1 )
     .attr( "y1", 0 )
     .attr( "x2", 5 )
     .attr( "y2", 0 )
     .style( "stroke", "#000" );

var arc = d3.svg
            .arc()
            .innerRadius( innerRadius );

ticks.append( "text" )
     .attr( "x", 8 )
     .attr( "dy", ".35em" )
     .attr( "transform", function(d) { 
        return d.angle > Math.PI ? "rotate(180)translate(-16)" : null; })
     .style( "text-anchor", function(d) { 
        return d.angle > Math.PI ? "end" : null; })
     .text( function(d) { 
        return d.label; });

svg.append( "g" )
   .attr( "class", "chord" )
   .selectAll( "path" )
   .data( chord.chords )
   .enter()
   .append( "path" )
   .attr( "d", d3.svg.chord().radius( innerRadius ))
   .style( "fill", function(d) { 
      return fill(d.target.index); })
   .style( "opacity", 1)
   .outerRadius( outerRadius );

var g = svg.selectAll( "g.group" )
          .data( chord.groups )
          .enter()
          .append( "svg:g" )
          .attr( "class", "group")
          .on( "mouseover", fade(.02))
          .on( "mouseout", fade(.80));

g.append( "svg:path" )
 .style( "stroke", function(d) { 
    return fill(d.index); })
 .style( "fill", function(d) { 
    return fill(d.index); })
 .attr( "d", arc);

/*
* Customized
*/
g.append("svg:text")
  .each(function(d) { d.angle = (d.startAngle + d.endAngle) / 2; })
  .attr("dy", ".35em")
  .attr("text-anchor", function(d) { return d.angle > Math.PI ? "end" : null; })
  .attr("transform", function(d) {
/*
* Get the lengths of some triangle legs. Return the newX and newY of the label
*/
    var newX = Math.sin( d.angle ) * (outerRadius +10),
    newY = Math.cos( d.angle ) * (outerRadius+30);
    return "translate(" + newX +","+ (-newY) + ")";
  })
  .text(function(d) { return names[d.index]; });


function groupTicks(d) {
  var k = ( d.endAngle - d.startAngle ) / d.value;
  return d3.range( 0, d.value, 1000 ).map( function(v, i) {
    return {
      angle: v * k + d.startAngle,
      label: i % 5 ? null : v / 1000 + "k"
    };
  });
}

function fade( opacity ) {
  return function( g, i ) {
    svg.selectAll( ".chord path" )
        .filter(function(d) { return d.source.index != i &amp;&amp; d.target.index != i; })
      .transition()
        .style( "opacity", opacity );
  };
}
                
</code></pre>
          </section>
        </section>
        <section>
          <section>
            <h1>Canvas</h1>
           <blockquote cite="http://www.w3.org/TR/2dcontext2/#drawing-rectangles-to-the-canvas">This specification defines the 2D Context, Level 2 for the HTML canvas element. The 2D Context provides objects, methods, and properties to draw and manipulate graphics on a canvas drawing surface.</blockquote>
         </section>
         <section id="canvas">
          <iframe  width="100%" height="500"  scrolling="no"></iframe>
         </section>
         <section>
          <h1 class="fragment fade-in">BACH</h1>
         </section>
        <section>
          <h1>View Source</h1>
          <pre><code>
function draw( data ) {
  ctx.fillRect( 0, 0, 900, 300 );
  var len = data.length,
      width = 900/len,
      gradient = ctx.createLinearGradient( 0, 0, 0, 300 );
      gradient.addColorStop( ".5", "#003366" );
      gradient.addColorStop( "1.0", "#ccff00" );
      ctx.fillStyle = gradient;
  for ( var i=0; i&lt;len; i++ ) {
      ctx.fillRect( i, 300, width, -data[i] );    
  }
}   
</code></pre>
        </section>
       </section>
        </section>
        <section>
          <section>
            <h1>Google Maps</h1>
          </section>
          <section>
            <h1>Google Maps</h1>
            <blockquote cite="https://developers.google.com/maps/documentation/javascript/">The Google Maps Javascript API lets you embed Google Maps in your own web pages. Version 3 of this API is especially designed to be faster and more applicable to mobile devices, as well as traditional desktop browser applications.
            </blockquote>
          </section>
          <section>
            <h1>About Google Maps</h1>
            <p>The Maps API is already rich, adding a layer of data on top of it opens up a wide range of possibilities</p>
          </section>
           <section id="gm">
         
          <iframe  width="100%" height="500" ></iframe>
          <small><a href="http://htmlcssjavascript.com/javascript/sure-its-5-months-too-late-for-the-contest-but-i-finally-did-something-with-the-hubway-data/">Read all about this visualization</a> http://dfst.us/1e5y  </small>
         </section>
         <!-- <section>
           <img src="img/hubway-static.png" width="100%">
         <small><a href="http://htmlcssjavascript.com/javascript/sure-its-5-months-too-late-for-the-contest-but-i-finally-did-something-with-the-hubway-data/">Read all about this visualization</a> http://dfst.us/1e5y </small></section>-->
         <section>
          <h1>View Source</h1>
          <pre><code>
;( function( window, document, $, undefined ) {
  "use strict";
  if( window.HW === undefined ) {
    window.HW = {};
  };
  var HW = window.HW;
  HW.common = {
    init: function() {
      $( "#map" ).height( $( window ).height() );
      var GM = google.maps,
        defaultPosition = new GM.LatLng( 42.3520, -71.0560 ),
        mapOptions = {
          zoom: 12,
          center: defaultPosition,
          mapTypeId: GM.MapTypeId.ROADMAP
        },
        map = new GM.Map( document.getElementById( 'map' ), mapOptions ),
        geocoder = new GM.Geocoder(),
        position, endPosition, marker, polylineOptions, DD, DS;
      $( "#map" ).data( "map" , map );
      createMarker( 0 );
      var i = 1, timer;
      function render(){
        if ( i == 10 ){
          clearInterval( timer );
          return;
        }
        createMarker( i );
        i++;   
      }
      timer = setInterval( render, 10000 );
      function createMarker( i ){
        var marker, position, start, end, dist;
        position = new GM.LatLng( data.stations[i].latLng[0] , data.stations[i].latLng[1] );
        marker = new GM.Marker({
          position: position,
          map: map,
          title: data.stations[i].name,
          data: data.stations[i].destinations
        });
//http://www.movable-type.co.uk/scripts/latlong.html
//http://stackoverflow.com/questions/27928/how-do-i-calculate-distance-between-two-latitude-longitude-points
        function distance( lat1, lon1, lat2, lon2) {
          var R = 6371; // Radius of the earth in km
          var dLat = deg2rad( lat2-lat1 );  // deg2rad below
          var dLon = deg2rad( lon2-lon1 ); 
          var a = 
            Math.sin( dLat/2 ) * Math.sin( dLat/2 ) +
            Math.cos( deg2rad(lat1) ) * Math.cos( deg2rad( lat2 ) ) * 
            Math.sin( dLon/2 ) * Math.sin( dLon/2 ); 
          var c = 2 * Math.atan2( Math.sqrt( a ), Math.sqrt( 1-a ) ); 
          var d = R * c; // Distance in km
          return d;
        }

        function deg2rad( deg ) {
          return deg * ( Math.PI/180 )
        }

        var j = 0, len = data.stations[i].destinations.length, rendertimer;
        function newrender(){
          if ( j == len ){
            clearInterval( rendertimer )
          return;
          }
          dist = distance( data.stations[i].latLng[0],data.stations[i].latLng[1], data.stations[i].destinations[j].latLng[0], data.stations[i].destinations[j].latLng[1] )
          createRoutes( i, j, position, dist);
          j++;   
        }
        rendertimer = setInterval( newrender, 2000 );
        function createRoutes( i, j, start, distance) {
          start = position;
          end = data.stations[i].destinations[j].latLng;
          var trips = data.stations[i].destinations[j].trips;
          HW.common.renderer( start,end, trips, i, distance, data.stations[i].name, data.stations[i].destinations[j].name );
        }
      }       
    },
    renderer: function( start, end, trips, index, distance, startName, endName ) {
      var GM = google.maps,
        polylineOptions, DD, DS, map = $( "#map" ).data( "map" ),
        colors = ["#B22937","#DE5003","#80C837","#229F6E","#60B6CA","#6F6DA7", "#1F1D6D","#80529A","#A6358C","#A2395B"];
      end = new GM.LatLng( end[0], end[1] );
      var polylineOptions = new GM.Polyline({
        strokeColor : colors[index],
        strokeOpacity : .4,
        strokeWeight : trips/100
      }),
        DS = new GM.DirectionsService(),
        DD = new GM.DirectionsRenderer({
          polylineOptions : polylineOptions,
          markerOptions : { icon : "img/Hubwaylogo.png" }
        });
      DD.setMap( map );
      var request = {
        origin : start,
        destination : end,
        travelMode : GM.TravelMode.BICYCLING
      }; 
      DS.route( request, function( result, status ) {
        if( status == GM.DirectionsStatus.OK ) {
          DD.setDirections( result );
        }
      });
    }
  }
}( window, document, jQuery ));
         </code></pre>
        </section>
        </section>
        <section>
           <h1>SVG: Other Libraries</h1>
           <ul>
             <li><a href="http://raphaeljs.com/">Raphaël</a> <small>"Raphaël is a small JavaScript library that should simplify your work with vector graphics on the web. If you want to create your own specific chart or image crop and rotate widget, for example, you can achieve it simply and easily with this library."</small></li>
             <li><a href="http://snapsvg.io/">Snap.svg</a> <small>"SVG is an excellent way to create interactive, resolution-independent vector graphics that will look great on any size screen. And the Snap.svg JavaScript library makes working with your SVG assets as easy as jQuery makes working with the DOM."</small></li>
             <li><a href="http://svgjs.com/">SVG.js</a> <small>"a lightweight JavaScript library for manipulating and animating svg using an uncluttered syntax"</small></li>
             <li><a href="http://polymaps.org/">Polymaps</a> <small>"a free JavaScript library for making dynamic, interactive maps in modern web browsers."</small></li>
           </ul>
         </section>
        <section>
           <h1>Canvas: Other Libraries</h1>
           <ul>
             <li><a href="http://sigmajs.org/">sigma.js</a> <small>"an open-source lightweight JavaScript library to draw graphs, using the HTML canvas"</small></li>
             <li><a href="http://paperjs.org/">paper.js</a> <small>"Scriptographer ported to JavaScript and browser, using HTML5 Canvas"</small></li>
              <li><a href="http://benpickles.github.com/peity/">Peity</a> <small>"progressive &lt;canvas&gt; piecharts"</small></li>
              <li><a href="http://arborjs.org/">arbor.js</a> <small>"a graph visualization library using web workers and jQuery"</small></li>
              <li><a href="http://www.humblesoftware.com/envision">envision</a> <small>"a library for creating fast, dynamic and interactive HTML5 visualizations.</small></li>
              <li><a href="http://canvasquery.com/">CanvasQuery</a> <small>"use HTML5 Canvas with jQuery syntax"</small></li>
              <li><a href="http://processingjs.org">Processing.js</a> <small>"the sister project of the popular Processing visual programming language"</small></li>
              <li><a href="http://fabricjs.com/">Fabric.js</a> <small>Fabric.js is a powerful and simple
Javascript HTML5 canvas library</small>
           </ul>
         </section>
        
        <section>
          <h1>My Columbo Moment</h1>
          <small class="fragment fade-in">just one more thing...</small>
          <h2 class="fragment fade-in"><a href="http://selection.datavisualization.ch">Datavisualization.ch Selected Tools</a></h2>
          <p class="fragment fade-in">A list of all these tools, plus more.</p>
        </section>
        <section>
          <h1>Thanks!</h1>
          <p><a ref="https://github.com/roblarsen">roblarsen</a> on Github | <a href="https://twitter.com/robreact">@robreact</a>/<a href="https://twitter.com/roblarsenwww">@roblarsenwww</a> on Twitter | 
          blog @ <a href="http://HTMLCSSJavaScript.com">htmlcssjavascript.com</a></p>
        </section>
      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>
    <script src="../_assets/js/vendor/jquery-1.9.1.min.js"></script>

    <script src="../_assets/js/main.js"></script>
    <script>
    // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        rollingLinks: false,
        progress: false,
        history: true,
        center: true,
        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none
        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
          // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
        ],
        maxScale: 1.4
      });

		</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-251752-17']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
	</body>
</html>
